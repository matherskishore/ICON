<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      Search Client
    </h1>
  </section>
  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-md-12">
        <div *ngIf="msg" role="alert" class="alert alert-info alert-dismissible">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
          <span class="sr-only">Error:</span> {{msg}}
        </div>


      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <input type="text" class="form-control" name="searchText" maxlength="100" [(ngModel)]="searchText"
          placeholder='Enter your search text' (keyup.enter)="getResult()" style="font-family: Arial,Helvetica,sans-serif;
          font-weight: 500;" />
      </div>
      <div class="col-md-2">
        <div class="form-group">
          <my-date-picker [options]="myDatePickerOptions" [(ngModel)]="fromDateCtrl" name='fromDate'
            (dateChanged)="onFromDateChanged($event)" placeholder='Sign-up date from'></my-date-picker>
        </div>
      </div>
      <div class="col-md-2">
        <div class="form-group">
          <my-date-picker [options]="myDatePickerOptions" [(ngModel)]="toDateCtrl" name='toDate'
            (dateChanged)="onToDateChanged($event)" placeholder='Sign-up date to'></my-date-picker>
        </div>
      </div>
      <div class="col-md-2">
        <button type="button" (click)="getResult();" class="btn btn-primary" [disabled]='indLoading'>Get
          Result</button>&nbsp;&nbsp;
      </div>
    </div>
    <div class="row" *ngIf="results && results.length===0">
      <div class="col-md-12">
        <div class="form-group has-warning" style="text-align: center;">
          <label class="control-label" for="inputInfo"> No Records Found</label>
        </div>
      </div>
    </div>
    <div class="alert alert-info" role="alert" *ngIf="indLoading">
      <img src="assets/images/loading.gif" width="32" height="32" /> Loading...
    </div>
    <div style="height: 650px;">
      <div class="row" *ngIf="!indLoading && results?.length>0">
        <div class="col-md-12">
          <ag-grid-angular #agGrid id="myGrid" style="width: 100%; height: 600px;" class="ag-theme-balham"
            [enableSorting]="true" [enableFilter]="true" [enableColResize]="true" [rowData]="results" rowHeight="30"
            [columnDefs]="columnDefs" (gridReady)="onGridReady($event)" pagination=true
            (cellClicked)='onCellClicked($event)'>
          </ag-grid-angular>
        </div>
        <br />
      </div>
    </div>
  </section>

  <div id='expand' [hidden]="!showPopup">
    <div style="text-align:right;padding-top:15px;padding-right:15px;">
      <span><i (click)='closePopup()' class="fa fa-close"></i></span>
    </div>
    <app-invoice-report [clientid]='selectedClientId' [clientreport]='true'></app-invoice-report>
  </div>